<div class="container p-5 sm:p-8 bg-white shadow sm:rounded-lg">
  <div class="mb-5">
    <h1 class="text-3xl font-semibold text-gray-800 mb-4">Statistics</h1>
    <p class="text-lg text-gray-600">
      Insightful stats on musicians, songs, and events, all in one place.
    </p>
  </div>

  <app-hr/>

  <ng-container *ngIf="authService.getAuthToken()">
    <div class="mb-5">
      <h1 class="text-2xl font-semibold text-gray-800 mb-4">My statistics</h1>

      <app-hr/>

      <div class="flex flex-col justify-center items-center">
        <div class="container mb-5">
          <h1 class="text-2xl font-semibold text-gray-800 mb-4">Most listened genres</h1>
          <p class="text-lg text-gray-600">
            <small><i>This is decided based on the genre the user added to the site.</i></small>
          </p>

          <ng-container *ngIf="genreCount.length > 0; else noData">
            <app-pie-chart
              [data]="genreCount"
              [showLegend]="false"
            ></app-pie-chart>
          </ng-container>

          <ng-template #noData>
            <h3 class="text-gray-800">Not enough data available for this graph.</h3>
          </ng-template>
        </div>

        <div class="container mb-5">
          <h1 class="text-2xl font-semibold text-gray-800 mb-4">Added elements</h1>
          <p class="text-lg text-gray-600">
            <small><i>This is decided based on which elements the user added.</i></small>
          </p>

          <ng-container *ngIf="addedElements[0].value + addedElements[1].value + addedElements[2].value > 0; else noData">
            <app-pie-chart
              [data]="addedElements"
              [showLegend]="false"
            ></app-pie-chart>
          </ng-container>

          <ng-template #noData>
            <h3 class="text-gray-800">Not enough data available for this graph.</h3>
          </ng-template>
        </div>
      </div>

      <app-hr/>

    </div>
  </ng-container>

  <ng-container>
    <div class="mb-5">
      <h1 class="text-2xl font-semibold text-gray-800 mb-4">Overall statistics</h1>

      <app-hr/>

      <div class="flex flex-col justify-center items-center">

        <div class="container mb-5">
          <h1 class="text-2xl font-semibold text-gray-800 mb-4">Top artists</h1>
          <p class="text-lg text-gray-600">
            <small><i>This is decided based on how many events they are participating in.</i></small>
          </p>

          <ng-container *ngIf="topArtists.length > 0; else noData">
            <app-number-card-chart
              [data]="topArtists"
            ></app-number-card-chart>
          </ng-container>

          <ng-template #noData>
            <h3 class="text-gray-800">Not enough data available for this graph.</h3>
          </ng-template>
        </div>

        <div class="container mb-5">
          <h1 class="text-2xl font-semibold text-gray-800 mb-4">Most popular genre</h1>
          <p class="text-lg text-gray-600">
            <small><i>This is decided by which genre was added the most.</i></small>
          </p>

          <ng-container *ngIf="mostPopularGenreCount.length > 0; else noData">
            <app-vertical-bar-chart
              [data]="mostPopularGenreCount"
              [showYAxisLabel]="false"
              [showXAxisLabel]="false"
              [showLegend]="false"
              [animations]="false"
            ></app-vertical-bar-chart>
          </ng-container>

            <ng-template #noData>
              <h3 class="text-gray-800">Not enough data available for this graph.</h3>
            </ng-template>
        </div>

        <div class="container">
          <h1 class="text-2xl font-semibold text-gray-800 mb-4">Most popular events</h1>
          <p class="text-lg text-gray-600">
            <small><i>This is decided based on how many users are attending an event.</i></small>
          </p>

          <ng-container *ngIf="mostPopularEvents.length > 0; else noData">
            <app-number-card-chart
              [data]="mostPopularEvents"
            ></app-number-card-chart>
          </ng-container>

          <ng-template #noData>
            <h3 class="text-gray-800">Not enough data available for this graph.</h3>
          </ng-template>
        </div>
      </div>
    </div>
    <app-hr/>
  </ng-container>
</div>
